<div class="container">
  <p-card>
    <h3>GET API</h3>
    <p-divider></p-divider>
    <!-- [paginator]="true" [rows]="5" -->
    <p-table [value]="apiData" [lazy]="true" [totalRecords]="100" [rows]="10" [paginator]="true" (onLazyLoad)="loadPostsLazy($event)">
      <ng-template pTemplate="header">
        <tr>
          <th>userId</th>
          <th>id</th>
          <th>title</th>
          <th>body</th>
          <th>編輯</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr>
          <td>{{user.userId}}</td>
          <td>{{user.id}}</td>
          <td>{{user.title}}</td>
          <td>{{user.body}}</td>
          <td><p-button icon="pi pi-pencil"
              styleClass="p-button-rounded p-button-secondary p-button-outlined"></p-button></td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>


  <p-card>
    <h3>學生資料表</h3>
    <p-divider></p-divider>
   <p-table [value]="student" [tableStyle]="{ 'min-width': '50rem' }">

      <ng-template pTemplate="header">
        <tr>
          <th>Code</th>
          <th>Name</th>
          <th>Height</th>
          <th>Weight</th>
          <th>Edit</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-student>
        <tr>
          <td>{{ student.position }}</td>
          <td>{{ student.name }}</td>
          <td>{{ student.height }}</td>
          <td>{{ student.weight }}</td>
          <td>
            <p-button (click)="showDialog(student)" icon="pi pi-pencil" styleClass="p-button-rounded p-button-secondary p-button-outlined"></p-button>
          </td>
        </tr>
      </ng-template>

    </p-table>
  </p-card>

</div>


<!--Dialog-->
<p-dialog [(visible)]="visible" header="編輯"[style]="{ width: '30vw', height: '300px' }">
  <div class="formgrid grid">

    <div class="field col-12 md:col-6">
      <dt>編號：</dt>
      <dd>{{data.position}}</dd>
    </div>

    <div class="field col-12 md:col-6">
      <label>姓名</label>
      <input [(ngModel)] = "data.name" pInputText />
    </div>

    <div class="field col-12 md:col-6">
      <label>身高</label>
      <input [(ngModel)] = "data.height" pInputText />
    </div>

    <div class="field col-12 md:col-6">
      <label>體重</label>
      <input [(ngModel)] = "data.weight" pInputText />
    </div>

    <div class="p-col-12 d-flex justify-content-end mt-2">
      <p-button (click) = "confirm()" label="確認"></p-button>
      <button pButton pRipple type="button" label="取消"
        class="p-button-outlined p-button-secondary"></button>
    </div>

  </div>
</p-dialog>
